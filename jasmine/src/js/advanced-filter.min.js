!function(e){"use strict";e.fn.ADMAKEadvancedFilter=function(t){var a=e.extend({menu:".menu-departamento",extensaoImagens:"png",tipoFiltros:{cor:"image","Para que faixa etÃ¡ria":"range"},elTitulo:"h3",elSubTitulo:"h5",elLista:"ul",estruturaBox:'<div class="box-filtro {{class}}" data-type="{{datatype}}">    <div class="sub-titulo">           <h3>{{subtitulo}}</h3>     </div>                         <div class="opcoes">               <ul>{{opcoes}}</ul>        </div>                      </div>'},t),i=null,r=[],l=[{val:"a",let:"Ã¡Ã Ã£Ã¢Ã¤"},{val:"e",let:"Ã©Ã¨ÃªÃ«"},{val:"i",let:"Ã­Ã¬Ã®Ã¯"},{val:"o",let:"Ã³Ã²ÃµÃ´Ã¶"},{val:"u",let:"ÃºÃ¹Ã»Ã¼"},{val:"c",let:"Ã§"},{val:"A",let:"ÃÃ€ÃƒÃ‚Ã„"},{val:"E",let:"Ã‰ÃˆÃŠÃ‹"},{val:"I",let:"ÃÃŒÃŽÃ"},{val:"O",let:"Ã“Ã’Ã•Ã”Ã–"},{val:"U",let:"ÃšÃ™Ã›Ãœ"},{val:"C",let:"Ã‡"},{val:"",let:"?!()"}],o={$htmlBody:e("html,body"),$windows:e(window),$menu:e(a.menu),$titulo:e(a.elTitulo,a.menu),$subTitulos:e(a.elSubTitulo,a.menu)},n={init:function(){n.verificaElemento(o.$menu)?(o.$menu.hide(0),""===a.extensaoImagens&&(a.extensaoImagens="jpg"),e(".search-single-navigator").length&&(o.$subTitulos=e(".search-single-navigator "+a.elSubTitulo,a.menu)),n.preparaArrayTipos(),n.criaEstrutura(),n.criaBoxes(),n.preparaBoxCheckbox(),n.preparaBoxImage(),n.preparaBoxRange()):console.log('O menu "'+a.menu+'" nÃ£o existe!')},criaEstrutura:function(){o.$menu.after('<div id="admake-advanced-filter" style="display: none;">   <h2>'+n.montaTitulo()+"</h2></div>"),(i=e("#admake-advanced-filter")).fadeIn()},montaTitulo:function(){return n.verificaElemento(o.$titulo)?o.$titulo.html():"Filtrar"},criaBoxes:function(){e.each(o.$subTitulos,function(){var t=e(this).html(),l=n.removeCaracteres(t),o="checkbox";void 0!==r[l]&&null!==r[l]&&""!==r[l]&&(o=r[l]),i.append(a.estruturaBox.replace(/\{{subtitulo}}/g,t).replace(/\{{datatype}}/g,"filtro-"+l).replace(/\{{class}}/g,o+" filtro-"+l).replace(/\{{opcoes}}/g,e(this).next(a.elLista).html()))})},preparaBoxCheckbox:function(){var t=e(".checkbox li.filtro-ativo",i),a=e(".checkbox li:not(.filtro-ativo) a",i);t.prepend('<i class="fa fa-check-square-o"></i> '),a.prepend('<i class="fa fa-square-o"></i> ')},preparaBoxImage:function(){e.each(e(".image",i),function(){var t=e(this),i=e("li a,li.filtro-ativo",t);e.each(i,function(){var i=e(this),r=n.removeCaracteres(void 0!==i.attr("title")&&null!==i.attr("title")&&""!==i.attr("title")?i.attr("title"):i.html());if(void 0!==t.attr("data-type")&&null!==t.attr("data-type")&&""!==t.attr("data-type"))var l=t.attr("data-type")+"-"+r+"."+a.extensaoImagens;else l=r+"."+a.extensaoImagens;i.html('<img src="/arquivos/'+l.trim()+'" title="'+i.html()+'" alt="'+i.attr("title")+'" class="filtro-img" >')})})},preparaBoxRange:function(){if(!e.fn.ionRangeSlider)return console.log("Para habilitar a opÃ§Ã£o RANGE Ã© necessario inserir o plugin Range.Slider - http://www.jqueryrain.com/"),!1;var t=0,a=0;e.each(e(".range",i),function(){var i=e(this),r=e(".filtro-ativo",i);if(r.length)return r.prepend('<i class="fa fa-check-square-o"></i> '),!1;var l=e(".opcoes",i),o=e("ul",i),s=e("li a",i);o.hide(),a=void 0!==i.attr("data-type")&&null!==i.attr("data-type")&&""!==i.attr("data-type")?"range-"+i.attr("data-type"):"range-"+t++,l.append('<div id="'+a+'"></div>');var u=[];e.each(s,function(){var t=e(this),a=t.attr("title");t.attr("id","option-"+n.removeCaracteres(a)),u.push(a)}),e("#"+a).ionRangeSlider({type:"single",values:u,min:0,max:s.length,from:0,keyboard:!0,onFinish:function(t){var a=e("#option-"+n.removeCaracteres(t.from_value));a.length&&(window.location=a.attr("href"))}})})},preparaArrayTipos:function(){e.each(a.tipoFiltros,function(e,t){r[n.removeCaracteres(e)]=t})},verificaElemento:function(e){return e.length},removeCaracteres:function(e){for(var t,a=e,i=0;i<l.length;i++)t=new RegExp("["+l[i].let+"]","g"),a=a.replace(t,l[i].val),t=null;return a.replace(/\s/g,"-").toLowerCase()}};n.init()}}(jQuery);